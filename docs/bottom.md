# Bottom - Системный монитор

**Bottom** (`btm`) — кроссплатформенный TUI системный монитор на Rust.
Вдохновлён htop, gtop и gotop.

## Запуск в Neovim

```
<leader>tb  — открыть Bottom в плавающем окне
```

## Что отображается

### Виджеты по умолчанию

```
┌─────────────────────────────────────────────────────────────┐
│  CPU (график)          │  Memory (график)                   │
│  - общая загрузка      │  - RAM использование               │
│  - по каждому ядру     │  - Swap использование              │
├─────────────────────────────────────────────────────────────┤
│  Temperature           │  Disk                              │
│  - датчики CPU         │  - разделы и их заполненность      │
│  - датчики GPU         │  - чтение/запись                   │
├─────────────────────────────────────────────────────────────┤
│  Network (график)      │  Processes (таблица)               │
│  - входящий трафик     │  - PID, имя, CPU%, MEM%            │
│  - исходящий трафик    │  - состояние, время работы         │
└─────────────────────────────────────────────────────────────┘
```

## Горячие клавиши

### Общие

| Клавиша      | Действие                              |
|--------------|---------------------------------------|
| `q`          | Выход                                 |
| `Ctrl+c`     | Выход                                 |
| `Esc`        | Закрыть диалог / свернуть виджет      |
| `?`          | Открыть справку                       |
| `e`          | Развернуть/свернуть текущий виджет    |
| `f`          | Заморозить/разморозить обновление     |
| `Ctrl+r`     | Сбросить отображение и данные         |

### Навигация

| Клавиша           | Действие                           |
|-------------------|------------------------------------|
| `Tab` / `S-Tab`   | Следующий/предыдущий виджет        |
| `h/j/k/l`         | Навигация (vim-style)              |
| `←↓↑→`            | Навигация стрелками                |
| `g g`             | В начало списка                    |
| `G`               | В конец списка                     |
| `Home`            | В начало                           |
| `End`             | В конец                            |
| `Page Up/Down`    | Страница вверх/вниз                |

### Графики (CPU, Memory, Network)

| Клавиша   | Действие                              |
|-----------|---------------------------------------|
| `+` / `=` | Увеличить масштаб времени             |
| `-`       | Уменьшить масштаб времени             |
| `0`       | Сбросить масштаб                      |

### Процессы

| Клавиша   | Действие                              |
|-----------|---------------------------------------|
| `/`       | Поиск процесса                        |
| `s`       | Сортировка (выбор колонки)            |
| `I`       | Инвертировать сортировку              |
| `%`       | Переключить режим Memory (% / значение)|
| `t`       | Режим дерева процессов                |
| `P`       | Показать полный путь                  |
| `Tab`     | Группировка по имени                  |
| `dd`      | Убить процесс (kill)                  |
| `x`       | Убить процесс                         |

### Режимы сортировки процессов

| Клавиша | Сортировка по     |
|---------|-------------------|
| `c`     | CPU%              |
| `m`     | Memory%           |
| `p`     | PID               |
| `n`     | Имя процесса      |

## Мышь

- **Левый клик** — выбор виджета
- **Скролл** — прокрутка в списках
- **Клик по заголовку** — сортировка (в таблицах)

## Аргументы командной строки

```bash
btm                     # Обычный запуск
btm -b                  # Basic mode (как htop)
btm --battery           # Показать батарею
btm -t                  # Режим дерева процессов
btm -r 500              # Частота обновления 500мс
btm -C config.toml      # Свой конфиг
btm --color gruvbox     # Цветовая схема
```

### Популярные цветовые схемы

- `default`
- `gruvbox`
- `gruvbox-light`
- `nord`
- `nord-light`

## Конфигурация

Файл конфигурации: `~/.config/bottom/bottom.toml`

```toml
# Пример конфигурации
[flags]
rate = 1000              # Частота обновления (мс)
temperature_type = "c"   # Celsius
tree = true              # Дерево процессов по умолчанию
battery = true           # Показывать батарею

[colors]
theme = "gruvbox"

# Кастомный цвет
table_header_color = "#f5e0dc"
```

## Установка

```bash
# Ubuntu/Debian
sudo apt install bottom

# Arch Linux
sudo pacman -S bottom

# macOS
brew install bottom

# Cargo (любая ОС)
cargo install bottom

# Snap
sudo snap install bottom
```

## Полезные ссылки

- GitHub: https://github.com/ClementTsang/bottom
- Документация: https://clementtsang.github.io/bottom/
