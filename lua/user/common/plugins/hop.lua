--[[
═══════════════════════════════════════════════════════════════════════════════
HOP.NVIM - Быстрая навигация в Neovim!
═══════════════════════════════════════════════════════════════════════════════

ОПИСАНИЕ:
  Hop - это плагин в стиле EasyMotion, позволяющий прыгать в любое место документа
  с минимальным количеством нажатий клавиш. Он показывает метки рядом с возможными
  точками перехода.

ОСНОВНЫЕ КОМАНДЫ:
  :HopWord          - Метки на всех словах (самая полезная команда)
  :HopChar1         - Прыжок к любому одиночному символу (запрашивает символ)
  :HopChar2         - Прыжок к любой последовательности из двух символов
  :HopLine          - Метки на первой колонке каждой видимой строки
  :HopLineStart     - Метки на первом непробельном символе каждой строки
  :HopVertical      - Вертикальный прыжок с сохранением текущей колонки
  :HopPattern       - Ввод regex-паттерна, затем метки на всех совпадениях
  :HopAnywhere      - Метки на всём содержимом буфера

МОДИФИКАТОРЫ КОМАНД (можно комбинировать):
  BC (Before Cursor)    - Только текст перед курсором
  AC (After Cursor)     - Только текст после курсора
  CurrentLine           - Только текущая строка
  MW (Multiple Windows) - Метки во всех видимых окнах

  Примеры: :HopWordCurrentLineBC, :HopCharCurrentLineAC

ОПЦИИ КОНФИГУРАЦИИ:
  keys                    - Символы для меток (упорядочены по доступности)
                           По умолчанию: 'asdghklqwertyuiopzxcvbnmfj'
  quit_key                - Клавиша для отмены Hop (по умолчанию: <ESC>)
  jump_on_sole_occurrence - Автопрыжок при единственном совпадении (по умолчанию: true)
  case_insensitive        - Поиск без учёта регистра (по умолчанию: true)
  uppercase_labels        - Показывать метки заглавными буквами (по умолчанию: false)
  current_line_only       - Ограничиться только текущей строкой (по умолчанию: false)
  multi_windows           - Метки во всех видимых окнах (по умолчанию: false)
  hint_position           - Позиция курсора: BEGIN, MIDDLE или END
  hint_offset             - Смещение от позиции метки (полезно для t/T движений)

ПРИМЕР ИСПОЛЬЗОВАНИЯ:
  1. Нажмите клавишу hop (настроена ниже как 'f' в обычном режиме)
  2. Hop покажет метки рядом с каждым словом
  3. Введите символы метки для прыжка в это место
  4. Нажмите <ESC> или вашу quit_key для отмены

ИНТЕГРАЦИЯ С FLASH.NVIM:
  В этой конфигурации Hop работает совместно с Flash.nvim:
  - f (Hop)     - быстрые прыжки по словам
  - F           - стандартное vim движение
  - t/T (Flash) - точная навигация до символа с метками
  - s (Flash)   - универсальный режим прыжков

  Это даёт лучшую комбинацию для разных сценариев навигации!

ЗАКРЕПЛЕНИЕ ВЕРСИИ:
  Эта конфигурация использует ветку 'v2' для получения обновлений v2.x.x с сохранением стабильности.
  Другие варианты:
    - branch = 'v2.1' (закрепить минорную версию, получать патчи v2.1.x)
    - tag = 'v2.1.0' (закрепить точную версию, без обновлений)

ПОДРОБНЕЕ: https://github.com/smoka7/hop.nvim/wiki
═══════════════════════════════════════════════════════════════════════════════
--]]

return {
  {
    "smoka7/hop.nvim",
  version = "*",
    opts = {},
    config = function()
      -- Настройка Hop с параметрами по умолчанию
      -- Все опции смотрите в :h hop-config
      require("hop").setup {
        -- keys = 'etovxqpdygfblzhckisuran',  -- Своя последовательность клавиш (пример bépo раскладки)
        -- quit_key = '<SPC>',                 -- Использовать пробел для выхода вместо ESC
        -- jump_on_sole_occurrence = false,    -- Не прыгать автоматически при единственном совпадении
        -- case_insensitive = false,           -- Учитывать регистр при поиске
        -- uppercase_labels = true,            -- Показывать метки ЗАГЛАВНЫМИ буквами
        -- multi_windows = true,               -- Метки во всех видимых окнах
      }

      -- Пользовательские цвета подсветки меток hop
      vim.cmd "hi HopNextKey guifg=#EB2A11" -- Первый символ метки (ярко-красный)
      vim.cmd "hi HopNextKey1 guifg=#EBCB8B" -- Второй символ метки (жёлтый)
      vim.cmd "hi HopNextKey2 guifg=#EBCB1D" -- Третий символ метки (золотой)
    end,
    keys = {
      {
        "t",
        function() require("hop").hint_words() end,
        mode = { "n" },
        desc = "Hop hint words",
      },
      {
        "<S-t>",
        function() require("hop").hint_lines() end,
        mode = { "n" },
        desc = "Hop hint lines",
      },
    },
  },
  {
    "catppuccin/nvim",
    optional = true,
    ---@type CatppuccinOptions
    opts = { integrations = { hop = true } },
  },
}
