--[[
=====================================================================
              ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ ДЛЯ STANDALONE NEOVIM
=====================================================================
Настройки, которые работают только в standalone Neovim
(не в VSCode/Windsurf режиме).
=====================================================================
--]]

local opt = vim.opt

-- =====================================================================
-- ВНЕШНИЙ ВИД (только для standalone)
-- =====================================================================

-- Прозрачность фона (если хотите прозрачный терминал)
-- vim.api.nvim_set_hl(0, "Normal", { bg = "none" })
-- vim.api.nvim_set_hl(0, "NormalFloat", { bg = "none" })

-- Граница между окнами и специальные символы
opt.fillchars = {
  diff = "╱",
  eob = " ", -- Скрыть ~ в конце буфера
}

-- Полноэкранный режим для GUI (neovide и т.д.)
if vim.g.neovide then
  vim.g.neovide_transparency = 0.95
  vim.g.neovide_cursor_animation_length = 0.1
  vim.g.neovide_cursor_trail_length = 0.3
  vim.g.neovide_refresh_rate = 60
  vim.g.neovide_remember_window_size = true
  vim.o.guifont = "JetBrainsMono Nerd Font:h12"
end

-- =====================================================================
-- FOLDING (сворачивание кода)
-- =====================================================================
opt.foldcolumn = "1"
opt.foldlevel = 99
opt.foldlevelstart = 99

-- =====================================================================
-- ПРОИЗВОДИТЕЛЬНОСТЬ
-- =====================================================================
opt.lazyredraw = false -- Отключено, т.к. может конфликтовать с noice
opt.synmaxcol = 240    -- Максимум колонок для подсветки синтаксиса

-- =====================================================================
-- СЕССИИ
-- =====================================================================
opt.sessionoptions = {
  "buffers",
  "curdir", 
  "tabpages",
  "winsize",
  "help",
  "globals",
  "skiprtp",
  "folds",
}

-- =====================================================================
-- SPELLCHECK (проверка орфографии)
-- =====================================================================
opt.spelllang = { "en", "ru" }
opt.spell = false -- Включается через <leader>us

-- =====================================================================
-- WILDMENU (автодополнение команд)
-- =====================================================================
opt.wildmode = "longest:full,full"
opt.wildignore:append({
  "*.o", "*.obj", "*.dll", "*.exe",
  "*.pyc", "*.pyo", "__pycache__",
  "*.swp", "*.swo", "*~",
  "node_modules/*", ".git/*",
  "*.jpg", "*.jpeg", "*.png", "*.gif", "*.svg",
})

print("✓ Дополнительные настройки nvim загружены")
