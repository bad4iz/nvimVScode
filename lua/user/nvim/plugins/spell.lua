--[[
=====================================================================
                    SPELL CHECKING - ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ ĞĞ Ğ¤ĞĞ“Ğ ĞĞ¤Ğ˜Ğ˜
=====================================================================

ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¾Ñ€Ñ„Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ğ¸ Ğ´Ğ»Ñ Ñ€ÑƒÑÑĞºĞ¾Ğ³Ğ¾ Ğ¸ Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¾Ğ³Ğ¾ ÑĞ·Ñ‹ĞºĞ¾Ğ².

=====================================================================
                        Ğ“ĞĞ Ğ¯Ğ§Ğ˜Ğ• ĞšĞ›ĞĞ’Ğ˜Ğ¨Ğ˜
=====================================================================

ĞĞ¡ĞĞĞ’ĞĞ«Ğ•:
  <leader>us    - Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ/Ğ²Ñ‹ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºÑƒ Ğ¾Ñ€Ñ„Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ğ¸
  <leader>ul    - ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ ÑĞ·Ñ‹Ğº (en,ru â†’ en â†’ ru â†’ en,ru)
                  ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ: Ğ¾Ğ±Ğ° ÑĞ·Ñ‹ĞºĞ° Ğ¾Ğ´Ğ½Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ (en,ru)

Ğ’ Ğ Ğ•Ğ–Ğ˜ĞœĞ• Ğ¡ Ğ’ĞšĞ›Ğ®Ğ§Ğ•ĞĞĞ«Ğœ SPELL:
  ]s            - Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°
  [s            - ĞŸÑ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°
  z=            - ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ñ‹ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
  zg            - Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ»Ğ¾Ğ²Ğ¾ Ğ² ÑĞ»Ğ¾Ğ²Ğ°Ñ€ÑŒ (good word)
  zw            - ĞŸĞ¾Ğ¼ĞµÑ‚Ğ¸Ñ‚ÑŒ ÑĞ»Ğ¾Ğ²Ğ¾ ĞºĞ°Ğº Ğ½ĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ (wrong word)
  zug           - Ğ£Ğ±Ñ€Ğ°Ñ‚ÑŒ ÑĞ»Ğ¾Ğ²Ğ¾ Ğ¸Ğ· ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ñ (undo good)
  zuw           - Ğ£Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ¿Ğ¾Ğ¼ĞµÑ‚ĞºÑƒ "Ğ½ĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ" (undo wrong)

ĞĞ’Ğ¢ĞĞœĞĞ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜ Ğ’ĞšĞ›Ğ®Ğ§ĞĞ•Ğ¢Ğ¡Ğ¯ Ğ”Ğ›Ğ¯:
  - Git commit ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
  - (Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ñ‚Ğ¸Ğ¿Ñ‹ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ½Ğ¸Ğ¶Ğµ)

ĞšĞĞœĞĞĞ”Ğ«:
  :SpellInstall       - Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ğ¸ (en + ru)
  :SpellInstall ru    - Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ€ÑƒÑÑĞºĞ¸Ğ¹
  :SpellInstall en    - Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹
  :SpellInfo          - ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¸ ÑÑ‚Ğ°Ñ‚ÑƒÑ ÑĞ»Ğ¾Ğ²Ğ°Ñ€ĞµĞ¹

Ğ¡Ğ›ĞĞ’ĞĞ Ğ˜ Ğ¥Ğ ĞĞĞ¯Ğ¢Ğ¡Ğ¯:
  Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğµ:  ~/.local/share/nvim/site/spell/
  Ğ›Ğ¸Ñ‡Ğ½Ñ‹Ğµ:     ~/.config/nvim/spell/en.utf-8.add
              ~/.config/nvim/spell/ru.utf-8.add

ĞŸĞ•Ğ Ğ’ĞĞ¯ Ğ£Ğ¡Ğ¢ĞĞĞĞ’ĞšĞ:
  1. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Neovim
  2. Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ :SpellInstall
  3. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Neovim
  4. Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾! Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ <leader>us Ğ´Ğ»Ñ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ

=====================================================================
--]]

return {
  {
    -- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ lazy.nvim Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ "Ğ²Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾" Ğ¿Ğ»Ğ°Ğ³Ğ¸Ğ½Ğ°
    dir = vim.fn.stdpath("config"),
    name = "spell-config",
    lazy = false,
    priority = 100,

    config = function()
      -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      -- Ğ¡ĞĞ—Ğ”ĞĞĞ˜Ğ• Ğ”Ğ˜Ğ Ğ•ĞšĞ¢ĞĞ Ğ˜Ğ™
      -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      -- Ğ”Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ñ… ÑĞ»Ğ¾Ğ²Ğ°Ñ€ĞµĞ¹
      local spell_dir = vim.fn.stdpath("config") .. "/spell"
      if vim.fn.isdirectory(spell_dir) == 0 then
        vim.fn.mkdir(spell_dir, "p")
      end

      -- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¿ÑƒÑÑ‚Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ñ… ÑĞ»Ğ¾Ğ²
      local user_dicts = {
        spell_dir .. "/en.utf-8.add",
        spell_dir .. "/ru.utf-8.add",
      }
      for _, dict_file in ipairs(user_dicts) do
        if vim.fn.filereadable(dict_file) == 0 then
          vim.fn.writefile({}, dict_file)
        end
      end

      -- Ğ”Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ´Ğ»Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ñ… ÑĞ»Ğ¾Ğ²Ğ°Ñ€ĞµĞ¹
      local spell_system_dir = vim.fn.stdpath("data") .. "/site/spell"
      if vim.fn.isdirectory(spell_system_dir) == 0 then
        vim.fn.mkdir(spell_system_dir, "p")
      end

      -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      -- Ğ¤Ğ£ĞĞšĞ¦Ğ˜Ğ¯ Ğ¡ĞšĞĞ§Ğ˜Ğ’ĞĞĞ˜Ğ¯ Ğ¡Ğ›ĞĞ’ĞĞ Ğ¯
      -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      local function download_spell_file(lang)
        vim.notify("Ğ¡ĞºĞ°Ñ‡Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ñ Ğ´Ğ»Ñ ÑĞ·Ñ‹ĞºĞ°: " .. lang, vim.log.levels.INFO)

        local url_base = "https://ftp.nluug.nl/pub/vim/runtime/spell/"
        local files = {
          lang .. ".utf-8.spl",
          lang .. ".utf-8.sug",
        }

        for _, file in ipairs(files) do
          local url = url_base .. file
          local target = spell_system_dir .. "/" .. file
          local curl_cmd = string.format('curl -fLo "%s" --create-dirs "%s"', target, url)

          vim.notify("Ğ¡ĞºĞ°Ñ‡Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ: " .. file .. "...", vim.log.levels.INFO)
          local output = vim.fn.system(curl_cmd)

          if vim.v.shell_error == 0 then
            vim.notify("âœ“ Ğ¡ĞºĞ°Ñ‡Ğ°Ğ½: " .. file, vim.log.levels.INFO)
          else
            vim.notify("âœ— ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ ÑĞºĞ°Ñ‡Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğ¸: " .. file .. "\n" .. output, vim.log.levels.ERROR)
          end
        end
      end

      -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      -- ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ˜ ĞŸĞ Ğ£ĞœĞĞ›Ğ§ĞĞĞ˜Ğ®
      -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      -- Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ spell checking Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ
      vim.opt.spell = true
      vim.opt.spelllang = { "en", "ru" }

      -- Ğ£ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ñ… ÑĞ»Ğ¾Ğ²
      vim.opt.spellfile = {
        spell_dir .. "/en.utf-8.add",
        spell_dir .. "/ru.utf-8.add",
      }

      -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      -- Ğ“ĞĞ Ğ¯Ğ§Ğ˜Ğ• ĞšĞ›ĞĞ’Ğ˜Ğ¨Ğ˜
      -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      -- ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ·Ñ‹ĞºĞ°
      vim.keymap.set("n", "<leader>ul", function()
        local current = vim.opt.spelllang:get()
        local lang_cycle = {
          ["en,ru"] = { "en", "ğŸ‡¬ğŸ‡§ Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹" },
          ["en"] = { "ru", "ğŸ‡·ğŸ‡º Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ñ€ÑƒÑÑĞºĞ¸Ğ¹" },
          ["ru"] = { "en,ru", "ğŸŒ ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹ + Ğ ÑƒÑÑĞºĞ¸Ğ¹" },
        }

        local current_key = table.concat(current, ",")
        local next_lang = lang_cycle[current_key] or { "en,ru", "ğŸŒ ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹ + Ğ ÑƒÑÑĞºĞ¸Ğ¹" }

        vim.opt.spelllang = vim.split(next_lang[1], ",")
        vim.notify("Ğ¯Ğ·Ñ‹Ğº Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸: " .. next_lang[2], vim.log.levels.INFO)
      end, { desc = "ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ ÑĞ·Ñ‹Ğº spell" })

      -- ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°Ğ¼
      vim.keymap.set("n", "<leader>sn", "]s", { desc = "Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ° spell" })
      vim.keymap.set("n", "<leader>sp", "[s", { desc = "ĞŸÑ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ° spell" })

      -- Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
      vim.keymap.set("n", "<leader>sf", "z=", { desc = "Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ»Ğ¾Ğ²Ğ¾ (spell)" })

      -- Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ² ÑĞ»Ğ¾Ğ²Ğ°Ñ€ÑŒ
      vim.keymap.set("n", "<leader>sa", "zg", { desc = "Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² ÑĞ»Ğ¾Ğ²Ğ°Ñ€ÑŒ (spell)" })
      vim.keymap.set("n", "<leader>sw", "zw", { desc = "ĞŸĞ¾Ğ¼ĞµÑ‚Ğ¸Ñ‚ÑŒ ĞºĞ°Ğº Ğ½ĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ (spell)" })

      -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      -- ĞĞ’Ğ¢ĞĞšĞĞœĞĞĞ”Ğ«
      -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      local spell_group = vim.api.nvim_create_augroup("spell_settings", { clear = true })

      -- Git commit - Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ²ĞºĞ»ÑÑ‡Ğ°ĞµĞ¼ spell
      vim.api.nvim_create_autocmd("FileType", {
        group = spell_group,
        pattern = { "gitcommit", "gitrebase" },
        callback = function()
          vim.opt_local.spell = true
        end,
        desc = "Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ spell Ğ´Ğ»Ñ Git commit",
      })

      -- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ñ ÑĞ»Ğ¾Ğ²Ğ°Ñ€ĞµĞ¹ Ğ¿Ñ€Ğ¸ ÑÑ‚Ğ°Ñ€Ñ‚Ğµ
      vim.api.nvim_create_autocmd("VimEnter", {
        group = spell_group,
        once = true,
        callback = function()
          local spell_files = {
            { path = spell_system_dir .. "/en.utf-8.spl", lang = "en" },
            { path = spell_system_dir .. "/ru.utf-8.spl", lang = "ru" },
          }

          local missing = {}
          for _, file in ipairs(spell_files) do
            if vim.fn.filereadable(file.path) == 0 then
              table.insert(missing, file.lang)
            end
          end

          if #missing > 0 then
            vim.notify(
              "âš  Ğ¡Ğ»Ğ¾Ğ²Ğ°Ñ€Ğ¸ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ñ‹: " .. table.concat(missing, ", ") .. "\n" ..
              "Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ :SpellInstall Ğ´Ğ»Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸",
              vim.log.levels.WARN,
              { title = "Spell Checking" }
            )
          end
        end,
        desc = "ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ ÑĞ»Ğ¾Ğ²Ğ°Ñ€ĞµĞ¹ spell",
      })

      -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      -- ĞšĞĞœĞĞĞ”Ğ«
      -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      -- ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ğ´Ğ»Ñ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ ÑĞ»Ğ¾Ğ²Ğ°
      vim.api.nvim_create_user_command("SpellAdd", function(opts)
        local word = opts.args ~= "" and opts.args or vim.fn.expand("<cword>")
        vim.cmd("normal! zg")
        vim.notify("Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ Ğ² ÑĞ»Ğ¾Ğ²Ğ°Ñ€ÑŒ: " .. word, vim.log.levels.INFO)
      end, {
        nargs = "?",
        desc = "Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ»Ğ¾Ğ²Ğ¾ Ğ² ÑĞ»Ğ¾Ğ²Ğ°Ñ€ÑŒ",
      })

      -- ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ğ´Ğ»Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ ÑĞ»Ğ¾Ğ²Ğ°Ñ€ĞµĞ¹
      vim.api.nvim_create_user_command("SpellInstall", function(opts)
        local lang = opts.args ~= "" and opts.args or "all"

        if lang == "all" then
          vim.notify("ğŸ“¥ Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° ÑĞ»Ğ¾Ğ²Ğ°Ñ€ĞµĞ¹ Ğ´Ğ»Ñ Ñ€ÑƒÑÑĞºĞ¾Ğ³Ğ¾ Ğ¸ Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¾Ğ³Ğ¾ ÑĞ·Ñ‹ĞºĞ¾Ğ²...", vim.log.levels.INFO)
          download_spell_file("en")
          download_spell_file("ru")
          vim.notify("âœ“ Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°! ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Neovim.", vim.log.levels.INFO)
        else
          download_spell_file(lang)
          vim.notify("âœ“ Ğ¡Ğ»Ğ¾Ğ²Ğ°Ñ€ÑŒ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ Ğ´Ğ»Ñ: " .. lang, vim.log.levels.INFO)
        end
      end, {
        nargs = "?",
        desc = "Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ğ¸ spell (all, en, ru)",
      })

      -- ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ğ´Ğ»Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸
      vim.api.nvim_create_user_command("SpellInfo", function()
        local enabled = vim.wo.spell
        local lang = table.concat(vim.opt.spelllang:get(), ", ")

        local en_exists = vim.fn.filereadable(spell_system_dir .. "/en.utf-8.spl") == 1
        local ru_exists = vim.fn.filereadable(spell_system_dir .. "/ru.utf-8.spl") == 1

        local info = {
          "=== Spell Checking Info ===",
          "",
          "Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: " .. (enabled and "âœ“ Ğ’ĞºĞ»ÑÑ‡ĞµĞ½" or "âœ— ĞÑ‚ĞºĞ»ÑÑ‡ĞµĞ½"),
          "Ğ¯Ğ·Ñ‹Ğº: " .. lang,
          "",
          "Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ğ¸:",
          "  ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹: " .. (en_exists and "âœ“" or "âœ— ĞĞ• Ğ£Ğ¡Ğ¢ĞĞĞĞ’Ğ›Ğ•Ğ"),
          "  Ğ ÑƒÑÑĞºĞ¸Ğ¹: " .. (ru_exists and "âœ“" or "âœ— ĞĞ• Ğ£Ğ¡Ğ¢ĞĞĞĞ’Ğ›Ğ•Ğ"),
          "",
          not (en_exists and ru_exists) and "âš  Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ :SpellInstall Ğ´Ğ»Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ ÑĞ»Ğ¾Ğ²Ğ°Ñ€ĞµĞ¹" or "",
          "",
          "Ğ“Ğ¾Ñ€ÑÑ‡Ğ¸Ğµ ĞºĞ»Ğ°Ğ²Ğ¸ÑˆĞ¸:",
          "  <leader>us  - Ğ²ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ/Ğ²Ñ‹ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ",
          "  <leader>ul  - Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ ÑĞ·Ñ‹Ğº",
          "  ]s / [s     - Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°Ğ¼",
          "  z=          - Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ñ‹",
          "  zg          - Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² ÑĞ»Ğ¾Ğ²Ğ°Ñ€ÑŒ",
          "",
          "ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:",
          "  :SpellInstall     - ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ğ¸",
          "  :SpellInstall ru  - ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ€ÑƒÑÑĞºĞ¸Ğ¹",
          "  :SpellInstall en  - ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ°Ğ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹",
          "",
          "Ğ”Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸:",
          "  Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğµ: " .. spell_system_dir,
          "  Ğ›Ğ¸Ñ‡Ğ½Ñ‹Ğµ: " .. spell_dir,
        }

        vim.notify(table.concat(info, "\n"), vim.log.levels.INFO, { title = "Spell Checking" })
      end, {
        desc = "ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ spell checking",
      })
    end,
  },
}
